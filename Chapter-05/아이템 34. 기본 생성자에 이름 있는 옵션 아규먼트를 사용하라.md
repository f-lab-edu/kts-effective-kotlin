# ì•„ì´í…œ 34. ê¸°ë³¸ ìƒì„±ìì— ì´ë¦„ ìˆëŠ” ì˜µì…˜ ì•„ê·œë¨¼íŠ¸ë¥¼ ì‚¬ìš©í•˜ë¼

ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ê°€ì¥ ì‰¬ìš´ ë°©ë²•ì€, ê¸°ë³¸ ìƒì„±ìì…ë‹ˆë‹¤.
```kotlin
class User(var name: String, var surname: String)

val user = User("User", "Jiwon")
```

í•˜ì§€ë§Œ ê¸°ë³¸ìƒì„±ìë¡œëŠ” ë‹¤ì–‘í•œ ì„¤ì •ì„ í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.
ê·¸ë˜ì„œ ìë°”ì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì€ ë°©ë²•ì„ ìƒì„±ì ëŒ€ì‹  ì‚¬ìš©í•´ì„œ êµ¬í˜„í•˜ê³¤ í•©ë‹ˆë‹¤.
- ìƒì„±ìë¥¼ ì˜¤ë²„ë¡œë”©í•˜ëŠ” `Telescoping constructor pattern`
- ë‚´ë¶€ì— Builder ê°ì²´ë¥¼ ë§Œë“¤ì–´, ë©”ì„œë“œ ì²´ì´ë‹ì„ êµ¬í˜„í•˜ëŠ” `Buidler pattern`

ì‚¬ì‹¤ ì½”í‹€ë¦°ì—ì„œëŠ” ë‘˜ ë‹¤ í•„ìš” ì—†ìŠµë‹ˆë‹¤. ê·¸ ì´ìœ ì— ëŒ€í•´ ì•Œì•„ë´…ì‹œë‹¤.

## ğŸ“Œ Java - Telescoping constructor pattern (ì ì¸µì  ìƒì„±ì íŒ¨í„´)
ìƒì„±ìë¥¼ ì—¬ëŸ¬ ê°œ ë§Œë“¤ì–´ì„œ ì¬ì‚¬ìš©(ì˜¤ë²„ë¡œë”©)í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.
```kotlin
class Pizza{
    val size: String
    val cheese: Int
    val olives: Int
    val bacon: Int

    constructor(size: String, cheese: Int, olives: Int, bacon: Int){
        this.size = size
        this.cheese = cheese
        this.olives = olives
        this.bacon = bacon
    }

    constructor(size: String, cheese: Int, olives: int) : this(size, cheese, olives, 0)
    constructor(size: String, cheese: Int): this(size, cheese, 0)
    constructor(size: String): this(size, 0)
    
    
}
```

<br>

## ğŸ“Œ Java - Builder Pattern
ë‚´ë¶€ í´ë˜ìŠ¤ `Builder` ë¥¼ ì´ìš©í•˜ì—¬ ë©”ì„œë“œ ì²´ì´ë‹ìœ¼ë¡œ ë§Œë“œëŠ” ë°©ë²•ì…ë‹ˆë‹¤.
```kotlin
// ìƒì„±ìë¥¼ privateë¡œ ì ê¶ˆ Builder ì‚¬ìš©ì„ ê°•ì œí•  ìˆ˜ ìˆë‹¤.
class Pizza private constructor(
    val size: String,
    val cheese: Int = 0,
    val olive: Int = 0,
    val bacon: Int = 0
) {
    class Builder(private val size: String){ // 1. í•„ìˆ˜ ê°’ì€ ìƒì„±ìë¡œ ë°›ëŠ”ë‹¤.
        private var cheese: Int = 0
        private var olive: Int = 0
        private var bacon: Int = 0
        
        // 2. ê° í•¨ìˆ˜ëŠ” Builder ë¥¼ ë°˜í™˜í•´ì„œ, ë©”ì„œë“œë¥¼ ì²´ì´ë‹ í• ìˆ˜ìˆê²Œ í•œë‹¤.
        fun setCheese(value: Int): Builder = apply{
            cheese = value
        }

        fun setOlive(value: Int): Builder = apply{
            olive = value
        }

        fun setBacon(value: Int): Builder = apply{
            bacon = value
        }
        
        // 3. ë§ˆì§€ë§‰ Builder.build()ë¥¼ í˜¸ì¶œí•˜ë©´, ê¸°ë³¸ ìƒì„±ìë¡œ í•´ë‹¹ ê°ì²´ë¥¼ ë§Œë“ ë‹¤. 
        fun build() = Pizza(size, cheese, olive, bacon)
    }
}
```
```kotlin
val villagePizza = Pizza.Builder("L")
    .setCheese(1)
    .setOlive(2)
    .setBacon(3)
    .build()
```

<br>

## ğŸ“Œ Kotlin - ë„ˆë¬´ë‚˜ ê°„ë‹¨í•œ í•´ê²°ì±…, default arguments
ë„¤, ìœ„ì˜ 2ê°€ì§€ëŠ” ê¸°ë³¸ ì¸ìë¥¼ ì´ìš©í•˜ë©´ ì–¸ì–´ ë¬¸ë²•ì°¨ì›ì—ì„œ í•´ê²°ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- ì½”ë“œê°€ ì§§ë‹¤
- ë” ë‹¤ì–‘í•œ ìƒì„±ìë¥¼ ì œê³µí•´ì¤€ë‹¤.
- ì–¸ì–´ ë¬¸ë²•ì ì¸ ê¸°ëŠ¥ì´ë¼, ë‹¤ì–‘í•œ ê³³ì—ì„œ í™œìš©í•  ìˆ˜ ìˆë‹¤.
- ë™ì‹œì„± ë¬¸ì œì—ì„œë„ ì•ˆì „í•˜ë‹¤. (`ì½”í‹€ë¦°ì˜ í•¨ìˆ˜ íŒŒë¼ë¯¸í„°ëŠ” í•­ìƒ immutable ì´ë‹¤`)

```kotlin
class Pizza(
    val size: String,
    val cheese: Int = 0,
    val olives: Int = 0,
    val bacon: Int = 0
)

val myPizza = Pizza("L", bacon=3)
```

<br>

## ğŸ¤” Builder íŒ¨í„´ì€ ì¢…ì¢… ì“°ì´ì§€ ì•Šë‚˜ìš”?

ë¬¼ë¡ , Builder íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ë©”ì„œë“œ ì²´ì´ë‹ì„ ì´ìš©í•  ìˆ˜ ìˆê¸°ì—, ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```kotlin
val dialog = AlertDialog.Builder(context)
    .setMessage(R.string.fire_missiles)
    .setFireButton(R.string.fire, {id -> /*..*/})
    .setCancelButton(R.string.cancel, {id -> /*..*/})
    .create()

val router = Router.Builder()
    .addRoute(path= "/home", ::showHome)
    .addRoute(path= "/users", ::showUsers)
    .build()
```

<br>

ì´ëŸ¬í•œ ì½”ë“œëŠ” ì½”í‹€ë¦°ì—ì„œ ê¶Œì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.  
ì½”í‹€ë¦° ë¬¸ë²•ì„ ì´ìš©í•œ DSL(Domain Specific Language)ë¡œ ëŒ€ì²´í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
- ë¬¼ë¡  DSL êµ¬í˜„ì´ ë” ë²ˆê±°ë¡­ì§€ë§Œ, ë” ìœ ì—°í•˜ê³  ê°€ë…ì„±ì´ ì¢‹ì€ ì½”ë“œë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```kotlin
var dialog = context.alert(R.string.fire_missiles) {
    fireButton(R.string.fire) { /*..*/ }
    cancleButton { /*..*/ }
}

val route = router {
    "/home" directTo :: showHome
    "/users" directTo :: showUsers
}
```

<br>

**ê²°ë¡ ì ìœ¼ë¡œ** ì•„ë˜ì™€ ê°™ì€ íŠ¹ë³„í•œ ê²½ìš°ë¥¼ ì œì™¸í•˜ê³ ëŠ” ì½”í‹€ë¦°ì—ì„œ ë¹Œë” íŒ¨í„´ì„ ì‚¬ìš©í•  ì¼ì€ ì—†ìŠµë‹ˆë‹¤.
- ë¹Œë” íŒ¨í„´ì„ ì‚¬ìš©í•˜ëŠ” ë‹¤ë¥¸ ì–¸ì–´ë¡œ ì‘ì„±ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê·¸ëŒ€ë¡œ ì˜®ê¸¸ ë•Œ
- Default arguments, DSL ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” ì–¸ì–´ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì½”í‹€ë¦° APIë¥¼ ì„¤ê³„í•  ë•Œ
